var L=Object.defineProperty,T=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var C=(t,e,s)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,V=(t,e)=>{for(var s in e||(e={}))k.call(e,s)&&C(t,s,e[s]);if(S)for(var s of S(e))q.call(e,s)&&C(t,s,e[s]);return t},j=(t,e)=>T(t,W(e));import{j as i,d as z,r as A,c as F,e as M,f as Z,g as H,I as P,h as N}from"./vendor.e34982a1.js";import{B as G,a as I}from"./index.esm.b167e141.js";import{a as U}from"./apiService.6864377f.js";function K({color:t="primary",size:e="md",loading:s,title:a,onClick:n,onBlur:h,outline:w,active:u,block:p,className:m,disabled:g}){return i(z,{color:t,size:e,onClick:n,outline:w,active:u,block:p,className:m,disabled:g,children:a})}const Q=t=>{const{inputItem:e,setFormState:s}=t,[a,n]=A.exports.useState([]),[h,w]=A.exports.useState(!1),{id:u,name:p,label:m,placeHolder:g,type:$="text",value:E,validState:r,validators:f}=e,x=c=>{const v=c.target.value,d=[];(f==null?void 0:f.length)&&f.forEach(o=>{const[y,l]=o(v);l&&d.push({type:y?"valid":"invalid",feedbackMsg:l})});const B=!!d.filter(o=>(o==null?void 0:o.type)==="invalid").length;n(d),s(o=>{const y=[...o];return y.forEach(l=>{(l==null?void 0:l.id)===(e==null?void 0:e.id)&&(l.value=v,l.validState={valid:!B,invalid:B})}),y})};return F(M,{style:{position:"relative"},children:[i(Z,{for:u,children:m}),F("div",{style:{position:"relative"},children:[$==="password"?F(H,{children:[i(P,{id:u,name:p,placeholder:g,type:h?"text":"password",valid:r==null?void 0:r.valid,invalid:r==null?void 0:r.invalid,value:E,onChange:x}),i("div",{className:"password-toogle",onClick:()=>w(!h),children:h?i(G,{}):i(I,{})})]}):i(P,{id:u,name:p,placeholder:g,type:$,valid:r==null?void 0:r.valid,invalid:r==null?void 0:r.invalid,value:E,onChange:x}),(a==null?void 0:a.length)?a.map((c,v)=>{const d={};return d[c.type]="true",i(N,j(V({},d),{children:c==null?void 0:c.feedbackMsg}),`feedback${v}`)}):null]})]})},b=t=>{localStorage.setItem("authToken",t)},X=async t=>{var e;try{const{data:s}=await U.get(`users/${t.email}`);return(s==null?void 0:s.password)!==(t==null?void 0:t.password)?["Incorrect Password",null]:(b(s.email),[null,s])}catch(s){let a=(e=s==null?void 0:s.response)!=null?e:s;return(a==null?void 0:a.status)===404&&(a="User Not Exist"),a=typeof a=="object"?"Something Went Wrong":a,[a,null]}},Y=async t=>{var e,s;try{const{data:a}=await U.post("users",t);return b(a.email),[null,a]}catch(a){let n=(s=(e=a==null?void 0:a.response)==null?void 0:e.data)!=null?s:a;return(n==null?void 0:n.includes("duplicate"))&&(n="User already exists!"),n=typeof n=="object"?"Something Went Wrong":n,[n,null]}},_=t=>{const e=t&&t.trim().length;return[!!e,e?"":"This field is required"]},ee=t=>t&&t.length?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?[!0,""]:[!1,"Enter Valid Email"]:"This field is required",te=t=>e=>(e==null?void 0:e.length)>=t?[!0,""]:[!1,`Please enter minimum ${t} characters`],se=t=>t.match(/^[0-9a-zA-Z]*$/)?[!0,""]:[!1,"Only alphanumeric value allowed"],ae=t=>{let e=!0;return t.forEach(s=>{const a=s.validState.valid;e=e&&a}),e},ne=t=>{const e={};return t.forEach(s=>{e[s.name]=s.value}),e};export{K as B,Q as I,ee as a,te as b,ne as c,se as d,ae as g,X as l,Y as r,_ as v};
