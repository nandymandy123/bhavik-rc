import{r as i,b as E,j as e,c as f,F,L as x,A as y,S as N}from"./vendor.e34982a1.js";import{g as L,I as H,B as V,v as d,d as S,b as n,a as j,c as k,r as A}from"./formUtils.8ea970f4.js";import"./index.esm.b167e141.js";import"./apiService.6864377f.js";const B=[{id:"firstname",name:"firstname",label:"First Name",placeHolder:"Enter your first name",value:"",validState:{valid:!1,invalid:!1},validators:[d,S,n(4)]},{id:"lastname",name:"lastname",label:"Last Name",placeHolder:"Enter your last name",value:"",validState:{valid:!1,invalid:!1},validators:[d,S,n(4)]},{id:"email",name:"email",label:"Email",type:"email",placeHolder:"Enter your email",value:"",validState:{valid:!1,invalid:!1},validators:[d,j]},{id:"password",name:"password",label:"Password",placeHolder:"Enter your password",type:"password",value:"",validState:{valid:!1,invalid:!1},validators:[d,n(8)]},{id:"confirmPass",name:"confirmPass",label:"Confirm your password",type:"password",placeHolder:"Enter your password again",value:"",validState:{valid:!1,invalid:!1},validators:[d,n(8)]}],R=C=>{const[l,o]=i.exports.useState(B),[c,g]=i.exports.useState(!1),[h,p]=i.exports.useState(!1),[m,w]=i.exports.useState(""),b=E();i.exports.useEffect(()=>{const a=L(l);a!==c&&g(a)},[l]);const P=a=>l.filter(t=>t.id==="password")[0].value===a?[!0,"Password Matched"]:[!1,"Password does not match"];return i.exports.useEffect(()=>{var s,t;const a=l.filter(r=>r.id==="confirmPass");(t=(s=a[0])==null?void 0:s.validators)==null||t.push(P),o(r=>{let u=[...r];return u.forEach(v=>v.id==="confirmPass"?a:v),u})},[]),e("div",{className:"container",children:f("div",{className:"form-wrapper",children:[e("h2",{className:"form-title",children:"Signup Page"}),f(F,{onSubmit:async a=>{a.preventDefault();const s=k(l);delete s.confirmPass,s.id=s.email,p(!0);const[t,r]=await A(s);p(!1),w(t!=null?t:""),r&&b("/blogs",{replace:!0})},children:[l.map(a=>e(H,{inputItem:a,setFormState:o},a==null?void 0:a.id)),e(x,{to:"/login",replace:!0,className:"link",children:e("p",{className:"link-text",children:"Login Here "})}),m&&e(y,{color:"danger",children:m}),e("div",{className:"align-center",children:h?e(N,{}):e(V,{title:"Sign Up",disabled:!c,className:"button"})})]})]})})};export{R as default};
